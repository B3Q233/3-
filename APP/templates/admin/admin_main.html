<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理员页面</title>
    <link rel="stylesheet" href="../static/layui/css/layui.css" media="all">
    <script src="../static/js/jquery-3.5.1.js"></script>
    <script src="../static/layui/layui.js"></script>
    <script>
    </script>
</head>
<style>
.layui-body {
    background-image: url('../static/images/user_main.jpg');
    background-size: cover; /* 设置背景图片自适应填充整个元素 */
    background-position: center center; /* 让图片居中显示 */
    background-repeat: no-repeat; /* 禁止图片重复平铺 */
    opacity: 1;
}
</style>
<body>
    <div class="layui-layout layui-layout-admin">
        <div class="layui-header">
            <div class="layui-logo layui-hide-xs layui-bg-black"><img src="../static/images/logo.png" class="layui-nav-img">全视AI后台管理</div>
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item layui-hide layui-show-md-inline-block">
                    <a href="javascript:;">
                    </a>
                    <dl class="layui-nav-child">
                        <dd><a href="admin_login.html">退出登录</a></dd>
                    </dl>
                </li>
            </ul>
        </div>
        <div class="layui-side layui-bg-black">
            <div class="layui-side-scroll">

                <ul class="layui-nav layui-nav-tree" lay-filter="test">
                    <li class="layui-nav-item">
                        <a href="javascript:;">个人信息</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" data-url="admin_msg.html">查看管理员信息</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item layui-nav-itemed">
                        <a href="javascript:;">管理网站</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" data-url="manage_user.html">用户管理</a></dd>
                            <dd><a href="javascript:;" data-url="manage_ai.html">AI管理</a></dd>
                            <dd><a href="javascript:;" data-url="manage_web.html">网站详情管理</a></dd>
                        </dl>
                    </li>
                </ul>
            </div>
        </div>
        <div class="layui-body">
            <!-- 内容主体区域 -->
            <div style="margin: 0; padding: 0;" id="main-content">
{#                <h2>欢迎进入全视AI后台管理页面</h2>#}

            </div>
        </div>

    </div>

    <script>

        window.onload = function () {
             let admin_name = localStorage.getItem("admin_name");
            if (admin_name) {
                // 替换导航栏中的账户名显示
                 let userNavItem = document.querySelector('.layui-nav-item.layui-show-md-inline-block');
                if (userNavItem) {
                     let userLink = userNavItem.querySelector('a');
                    if (userLink) {
                        userLink.innerHTML = '<img src="../static/images/logo.png" class="layui-nav-img">' + admin_name;
                    }
                }
                {# let welcomeTextElement = document.getElementById('main-content').querySelector('h2');#}
                {#if (welcomeTextElement) {#}
                {#    welcomeTextElement.innerHTML = '尊敬的管理员' + admin_name + '，欢迎您进入全视AI后台管理页面';#}
                {# }#}
            }
        };

        layui.use(['element', 'layer', 'util'], function () {
             let element = layui.element
               , layer1 = layui.layer
               , util = layui.util
               , $ = layui.$;
            util.event('lay-header-event', {
                // 左侧菜单事件
                menuLeft: function (othis) {
                    layer1.msg('展开左侧菜单的操作', { icon: 0 });
                }
               , menuRight: function () {
                    layer1.open({
                        type: 1,
                        content: '<div style="padding: 15px;">处理右侧面板的操作</div>',
                        area: ['260px', '100%'],
                        offset: 'rt', // 右上角
                        anim: 5,
                        shadeClose: true
                    });
                }
            });

            layui.use(['jquery'], function () {
                 let $ = layui.jquery;

                $('.layui-nav-child a').on('click', function () {
                     let url = $(this).data('url');
                    if (url) {
                        $('#main-content').load(url);  // 使用 AJAX 加载指定页面内容到主体区域
                    }
                });
            });
        });
    </script>

</body>

</html>